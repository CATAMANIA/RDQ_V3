# Configuration production sécurisée OWASP A06
# Base de données PostgreSQL 16 production
%prod.quarkus.datasource.db-kind=postgresql
%prod.quarkus.datasource.jdbc.url=${DATABASE_URL}
%prod.quarkus.datasource.username=${DB_USERNAME}
%prod.quarkus.datasource.password=${DB_PASSWORD}
%prod.quarkus.datasource.max-size=20
%prod.quarkus.datasource.min-size=5

# Pool de connexions optimisé
%prod.quarkus.datasource.acquisition-timeout=30
%prod.quarkus.datasource.leak-detection-interval=30S

# Désactivation des fonctionnalités de développement OWASP A06
%prod.quarkus.dev-ui.enabled=false
%prod.quarkus.swagger-ui.enable=false

# Logs sécurisés OWASP A10
%prod.quarkus.log.level=WARN
%prod.quarkus.log.category."com.rdq".level=INFO
%prod.quarkus.log.category."org.hibernate.SQL".level=WARN

# CORS restrictif pour production OWASP A06
%prod.quarkus.http.cors.origins=${ALLOWED_ORIGINS}

# HTTPS obligatoire en production OWASP A02
%prod.quarkus.http.ssl-port=8443
%prod.quarkus.http.ssl.certificate.key-store-file=keystore.p12
%prod.quarkus.http.ssl.certificate.key-store-password=${SSL_KEYSTORE_PASSWORD}

# Cookies sécurisés OWASP A02
%prod.quarkus.http.secure-cookies=true

# Désactivation d'endpoints sensibles OWASP A06
%prod.quarkus.management.enabled=false
%prod.quarkus.health.enabled=true

# Configuration email production
%prod.quarkus.mailer.host=${SMTP_HOST}
%prod.quarkus.mailer.port=${SMTP_PORT}
%prod.quarkus.mailer.username=${SMTP_USERNAME}
%prod.quarkus.mailer.password=${SMTP_PASSWORD}
%prod.quarkus.mailer.start-tls=REQUIRED

# JWT production avec clés environnement OWASP A03
%prod.mp.jwt.verify.publickey.location=${JWT_PUBLIC_KEY}
%prod.mp.jwt.decrypt.key.location=${JWT_PRIVATE_KEY}